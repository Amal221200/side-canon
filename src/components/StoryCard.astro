---
import { Image } from 'astro:assets';
import FormattedDate from './FormattedDate.astro';
import type { InferEntrySchema } from 'astro:content';

interface Props {
  story: InferEntrySchema<'story'>;
  slug: string;
}

const { story: { title, description, pubDate, heroImage }, slug } = Astro.props;
---

<article class="group h-full">
	<a
		href={`/stories/${slug}/`}
		class="flex flex-col h-full bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden border border-gray-100 hover:border-purple-200"
	>
    <div class="overflow-hidden">
      <Image 
        width={720} 
        height={360} 
        src={heroImage} 
        alt={title}
        class="w-full h-48 object-cover object-top group-hover:scale-105 transition-transform duration-300"
      />
    </div>
		<div class="p-3">
			<h4 class="text-xl font-semibold text-gray-800 group-hover:text-purple-600 transition-colors mb-2">
				{title}
			</h4>
			<p class="text-sm text-gray-500 mb-3">
				<FormattedDate date={pubDate} />
			</p>
			<p class="text-gray-600">
				{description}
			</p>
		</div>
	</a>
</article>
