---
import type { CollectionEntry } from "astro:content";
import StoryCard from "@/components/StoryCard.astro";
import { SITE_TITLE } from "@/consts";
import Layout from "@/layouts/Layout.astro";
import type { PageType } from "@/types";

type Props = {
  stories: CollectionEntry<'story'>[] | CollectionEntry<'nmu'>[] | CollectionEntry<'nmu-specials'>[];
  title: string;
  description: string;
	type: PageType;
};

const { stories, title, description, type } = Astro.props;
---

<Layout
	title={`${SITE_TITLE} | ${title}`}
	description={description}
>
	<div class="py-12 px-4">
		<div class="max-w-6xl mx-auto">
			<h1 class="text-4xl font-bold mb-2 bg-linear-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent">
				{title}
			</h1>
			<p class="text-gray-600 mb-12">
				{description}
			</p>

			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:max-w-none md:max-w-2xl max-w-xs mx-auto">
				{stories.map((story) => (
					<StoryCard
						story={story.data}
						slug={story.id}
						type={type}
					/>
				))}
			</div>

			{stories.length === 0 && (
				<div class="text-center py-12">
					<p class="text-gray-500 text-lg">No stories yet. Check back soon!</p>
				</div>
			)}
		</div>
	</div>
</Layout>
